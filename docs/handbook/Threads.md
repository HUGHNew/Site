# X程

> 进程 线程 协程

> IO密集型一般使用多线程或者多进程 CPU密集型一般使用多进程 强调非阻塞异步并发的一般都是使用协程

| 进程                         | 线程                           | 协程       |
| ---------------------------- | ------------------------------ | ---------- |
| 分配和管理资源的基本单位     | 进程的一个执行单元 CPU调度单位 | 用户级线程 |
| 竞争计算机系统资源的基本单位 | 轻量级进程                     | 轻量级线程 |

## 进程与线程

|               | 进程                               | 线程                       |
| ------------- | ---------------------------------- | -------------------------- |
| 资源/地址空间 | 独立地址空间(系统分配资源:内存 IO) | 共享当前进程地址空间和资源 |
| 健壮性        | 进程间不会相互影响                 | 线程崩溃会导致进程崩溃     |
| 上下文切换    | 存储PCB 寄存器存储 换页(TLB)       | 存储TCB 寄存器存储         |

状态一样: 就绪 阻塞 运行(+ 创建 结束)


### 上下文切换

| 进程                         | 线程               | 协程                         |
| ---------------------------- | ------------------ | ---------------------------- |
| 存储PCB 寄存器存储 换页(TLB) | 存储TCB 寄存器存储 | 寄存器(栈 ~~无栈/有栈协程~~) |


## 参考

- [协程切换](https://zhuanlan.zhihu.com/p/220025846)